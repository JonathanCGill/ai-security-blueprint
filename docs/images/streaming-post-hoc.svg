<svg xmlns="http://www.w3.org/2000/svg" width="700" height="160" viewBox="0 0 700 160">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#475569"/>
    </marker>
    <marker id="arrow-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ef4444"/>
    </marker>
  </defs>

  <rect width="700" height="160" fill="#f8fafc"/>

  <!-- Main path: LLM -> Client (real-time) -->
  <rect x="20" y="20" width="60" height="36" rx="4" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5"/>
  <text x="50" y="43" font-family="Arial, sans-serif" font-size="11" fill="#92400e" text-anchor="middle">LLM</text>

  <line x1="80" y1="38" x2="128" y2="38" stroke="#475569" stroke-width="1.5" marker-end="url(#arrow)"/>

  <rect x="130" y="20" width="140" height="36" rx="4" fill="#e0e7ff" stroke="#6366f1" stroke-width="1.5"/>
  <text x="200" y="43" font-family="Arial, sans-serif" font-size="11" fill="#4338ca" text-anchor="middle">Client (real-time)</text>

  <!-- Parallel path label -->
  <text x="52" y="76" font-family="Arial, sans-serif" font-size="9" fill="#64748b" font-style="italic">parallel</text>
  <line x1="50" y1="56" x2="50" y2="92" stroke="#475569" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#arrow)"/>

  <!-- Parallel path: Complete response -> Judge -->
  <rect x="20" y="95" width="150" height="36" rx="4" fill="#f1f5f9" stroke="#94a3b8" stroke-width="1.5"/>
  <text x="95" y="118" font-family="Arial, sans-serif" font-size="11" fill="#475569" text-anchor="middle">Complete response</text>

  <line x1="170" y1="113" x2="198" y2="113" stroke="#475569" stroke-width="1.5" marker-end="url(#arrow)"/>

  <rect x="200" y="95" width="140" height="36" rx="4" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5"/>
  <text x="270" y="118" font-family="Arial, sans-serif" font-size="11" fill="#92400e" text-anchor="middle">Judge evaluation</text>

  <!-- If flagged path -->
  <text x="360" y="100" font-family="Arial, sans-serif" font-size="9" fill="#ef4444" font-style="italic">if flagged</text>
  <line x1="340" y1="113" x2="388" y2="113" stroke="#ef4444" stroke-width="1.5" marker-end="url(#arrow-red)"/>

  <!-- Retraction back to Client -->
  <rect x="390" y="95" width="220" height="36" rx="4" fill="#fee2e2" stroke="#ef4444" stroke-width="1.5"/>
  <text x="500" y="112" font-family="Arial, sans-serif" font-size="10" fill="#b91c1c" text-anchor="middle">Client receives retraction /</text>
  <text x="500" y="124" font-family="Arial, sans-serif" font-size="10" fill="#b91c1c" text-anchor="middle">warning message</text>
</svg>
